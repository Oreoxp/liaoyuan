本文档定义了《燎原》项目的核心目录结构和代码组织规范。所有团队成员（包括AI助手）都应严格遵守此规范，以确保项目的可维护性、可扩展性和协作效率。

## 核心设计哲学

1.  **按特性分组 (Group by Feature):** 每个游戏功能（如Player, Enemy, Weapon）都是一个独立的“模块”，拥有自己的文件夹，包含其场景(.tscn)和脚本(.gd)。
2.  **关注点分离 (Separation of Concerns):** 游戏逻辑 (`game/`)、用户界面 (`ui/`) 和静态资源 (`assets/`) 必须严格分离。
3.  **代码即一切:** 提倡使用代码（而非仅仅依赖编辑器）来定义和连接信号，这有助于代码审查和版本控制。

## 目录结构详解

- **`res://`** (项目根目录)
    - **`game/`**: 存放所有核心游戏玩法相关的场景和脚本。
        - **`player/`**: 存放与玩家角色相关的一切。
            - `player.gd`
            - `Player.tscn`
        - **`enemies/`**: 存放所有敌人类型的模块。每个敌人类型一个子文件夹。
            - `default_enemy/`
                - `enemy.gd`
                - `Enemy.tscn`
        - **`weapons/`**: 存放所有武器/抛射物类型的模块。每个武器一个子文件夹。
            - `bullet/`
                - `bullet.gd`
                - `Bullet.tscn`
        - **`systems/`**: 存放服务于整个游戏的系统级功能。
            - `enemy_spawner.gd`
            - `EnemySpawner.tscn`
        - **`levels/`**: 存放关卡主场景。
            - `main.gd`
            - `Main.tscn`
    - **`ui/`**: 存放所有用户界面(UI)相关的一切。
        - **`hud/`**: (规划中) 游戏内抬头显示器（血条、经验条等）。
        - **`screens/`**: (规划中) 全屏界面（升级菜单、暂停菜单、主菜单等）。
    - **`assets/`**: 存放所有的静态媒体资源。
        - **`art/`**: 视觉美术资源（.png, .svg）。
        - **`sfx/`**: 音效资源（.wav）。
        - **`music/`**: 背景音乐（.mp3, .ogg）。

## 新功能开发流程

当开发一个新功能时（例如，一个新的“手榴弹”武器）：
1. 在 `game/weapons/` 目录下创建一个新的文件夹 `grenade/`。
2. 在 `grenade/` 文件夹中创建 `grenade.gd` 和 `Grenade.tscn`。
3. 如果需要新的美术或音频资源，将它们分别放入 `assets/art/` 或 `assets/sfx/`。
4. 如果此功能有UI部分（比如手榴弹数量显示），则在 `ui/hud/` 目录下创建对应的UI场景。
